# omop_conversion
sample OMOP converison rules

FILES:

data.ttl contains two sample patient, patient 1 contians  both gender and birth date while patient 2 contains only gender info.

inference_rule.n3 contains two sample SCHEMA to OMOP conversion rule.

query_rule.n3q contains the filtering rule which request both gender and year of birth as premise.

query_rule-v2.n3q contains another filtering rule, which does not introduce the constraint as query_rule.n3q did.


The results are generated by EYE with the following commands:

eye --nope data.ttl inference_rule.n3 --query query_rule.n3q >result.ttl

eye --nope data.ttl inference_rule.n3 --query query_rule-v2.n3q >result-v2.ttl

It can be observed that in result.ttl, only patient 1 is converted to OMOP model. Patient 2 data is dropped because it is lacking year of birth information.

In result-v2.ttl, since the filtering rule did not put any constraint, both patient 1 and patient 2 are converted to OMOP model.


EYE can also generate proof for the conversion process.
The commands below generates proofs for the above mentioned conversions

eye data.ttl inference_rule.n3 --query query_rule.n3q >proof.n3

eye data.ttl inference_rule.n3 --query query_rule-v2.n3q >proof-v2.n3

In the generated proofs, the object of r:gives shows the conclusions of each conversion process (as what displayed in result.ttl and result-v2.ttl). The remaining of the proofs records actions such as data extractions and inferences that leads to the conclusions.
